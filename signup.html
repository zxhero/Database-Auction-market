<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/materialize.css"/>
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<style type="text/css">
			html{width: 100%;height:150%;}
			body{
				width: 100%;height:100%;padding-top: 100px;
				background-image: url(img/index/REGKTe.jpg);background-size: cover;
				background-repeat: no-repeat;
			}
			#zhuce{
				width: 60%;padding: 30px;
				background-color: rgba(0,0,0,.5);
			}
			.btn-flat{
				margin-top: 20px;
				color: #fff;
			}
			input{color: #fff;padding-left:4em ;}
			.btn-flat:hover{
				background-color: #333;
			}
			.input-field.col label{text-align: left;}
		</style>
	</head>
	<body>
		<div id="zhuce" class="container center">
			<div class="container">
				<h4 style="font-family: '微软雅黑';color: #eee;">Sign Up </h4>
				<div class="row">
					<form class="input-field col s12">
						<input type="email"  id="email"  class="validate" />
						<label for="email" data-error="请输入正确的邮箱格式" data-success="输入成功">Email:</label>
					</form>
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="username" value=""class="validate" />
						<label for="username">User name:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="nickname" value=""class="validate" />
						<label for="nickname">Nickname:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="Address" value=""class="validate" />
						<label for="Address">Address:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="Phone" value=""class="validate" />
						<label for="Phone">Phone:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="Birthday" value=""class="validate" />
						<label for="Birthday">Birthday:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="text"  name="" id="Bio" value=""class="validate" />
						<label for="Bio">Introduce yourself:</label>
					</form>	
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="password" name="" id="password1" class="validate"/>
						<label for="password1">Password:</label>
					</form>
				</div>
				<div class="row">
					<form class="input-field col s12">
						<input type="password"  name="" id="password2" value=""class="validate" />
						<label for="password2">Confirm Password:</label>
					</form>	
				</div>
			</div>
			<div class="divider"></div>
			<div class="right container">
				<a href="javascrpt:;" class="modal-action waves-effect waves-green btn-flat">Sign Up</a>
			</div>
			<div class="clearfix"></div>
		</div>
		<script src="js/jquery.min.js"></script>
		<script src="js/materialize.js"></script>
		<script type="text/javascript">
			
			$('.container a').on('click',function(){
				if($('#email').hasClass('valid')){
					if($('#password1').val()==$('#password2').val()){
						window.location.href="index.html";
					}else{
						confirm('输入的密码不一致，请重新输入。')
					}
				}
				//confirm('请重新输入正确的邮箱格式以及正确的密码。')
				if(document.getElementById("email").value=='' || document.getElementById("username").value==''
				   || document.getElementById("nickname").value=='' || document.getElementById("Address").value==''
				   || document.getElementById("Phone").value=='' || document.getElementById("Birthday").value=='' 
				   || document.getElementById("Bio").value=='' || document.getElementById("password1").value==''){
					alert("please fill all information!");
					//window.location.href = "index.html";
					return;
				}
				var xhttp = new XMLHttpRequest();
				var transfer_data = {
					email: document.getElementById("email").value,
					username: document.getElementById("username").value,
					nickname: document.getElementById("nickname").value,
					Address: document.getElementById("Address").value,
					Phone: document.getElementById("Phone").value,
					Birthday: document.getElementById("Birthday").value,
					Bio: document.getElementById("Bio").value,
					password: document.getElementById("password1").value
				}
				var transfer_json = "sign_up=" + JSON.stringify(transfer_data);
				//document.getElementById("mycount").innerHTML = transfer_json;
				xhttp.open("POST", "sign_up.php", true);
				xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				xhttp.send(transfer_json);
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						window.location.href = "index.html?id=mycount";
						document.getElementById("test").innerHTML = this.responseText;
					}
				};
			})
		</script>
	</body>
</html>
